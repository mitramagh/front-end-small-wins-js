{"ast":null,"code":"var _jsxFileName = \"/Users/mit/projects/ins-board/front-end-inspiration-board/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport BoardsView from \"./components/BoardsView\";\nimport CardsView from \"./components/CardsView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const defaultBoards = [];\n  const defaultCards = [];\n  const url = \"https://powerful-lake-89201.herokuapp.com\"; // useState for Board\n\n  const [boards, setBoards] = useState(defaultBoards); // useState for Card\n\n  const [cards, setCards] = useState(defaultCards); // useState to keep track of what board we're currently looking at (user's choice)\n\n  const [chosenBoard, setChosenBoard] = useState(null); // useEffect upon dom load\n\n  useEffect(() => {\n    // axios call, after promise is completed or rejected:\n    axios.get(`${url}/boards`).then(response => {\n      // iterate through each board and append to boards\n      const updatedBoards = [...boards];\n      const dataList = response.data;\n\n      for (const data of dataList) {\n        updatedBoards.push(data);\n      }\n\n      setBoards(updatedBoards);\n    }).catch(e => {\n      console.log(e);\n    });\n  }, []); // BoardView -> BoardList, NewBoardButton, NewBoardForm (visible/invisible depending on NewBoardButton toggle): siblings easier ^^ -> all state at BoardView level to control NewBoardForm visibility\n  //get all cards from user chosen board -> pass down to boardlist\n\n  const getCardsFromOneBoard = boardId => {\n    axios.get(`${url}/boards/${boardId}/cards`).then(response => {\n      const updatedCards = [];\n      const dataList = response.data;\n\n      for (const data of dataList) {\n        updatedCards.push(data);\n      }\n\n      setCards(updatedCards);\n      setChosenBoard(boardId);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // delete board (need to add endpoints)\n\n\n  const deleteBoard = boardId => {\n    axios.delete(`${url}/boards/${boardId}`).then(() => {\n      const updatedBoards = boards.filter(board => board.board_id !== boardId);\n      setBoards(updatedBoards);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // delete card\n\n\n  const deleteCard = cardId => {\n    axios.delete(`${url}/cards/${cardId}`).then(() => {\n      const updatedCards = cards.filter(card => card.card_id !== cardId);\n      setCards(updatedCards);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // onformsubmitboard\n\n\n  const onFormSubmitBoard = requestBody => {\n    axios.post(`${url}/boards`, requestBody).then(response => {\n      const newBoard = {\n        id: response.data.id,\n        title: requestBody.title,\n        owner: requestBody.owner\n      };\n      setBoards([...boards, newBoard]);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // on formsubmitcard\n\n\n  const onFormSubmitCard = (boardId, requestBody) => {\n    axios.post(`${url}/boards/${boardId}/card`, requestBody).then(response => {\n      const newCard = {\n        card_id: response.data.card_id,\n        board_id: response.data.board_id,\n        message: response.data.message,\n        like_count: response.data.like_count\n      };\n      setCards([...cards, newCard]);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const updateLikeCts = cardId => {\n    const cardObj = cards.filter(card => card.card_id === cardId);\n    axios.put(`https://powerful-lake-89201.herokuapp.com/cards/${cardId}`, {\n      like_count: cardObj.like_count + 1\n    }).then(() => {\n      const updatedCards = cards.map(card => {\n        if (card.card_id === cardId) {\n          card.like_count++;\n        }\n\n        return card;\n      });\n      setCards(updatedCards);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // default landing page\n\n\n  if (chosenBoard === null) {\n    return /*#__PURE__*/_jsxDEV(BoardsView, {\n      boardData: boards,\n      selectBoardCallback: getCardsFromOneBoard,\n      deleteBoardCallback: deleteBoard,\n      makeBoardCallback: onFormSubmitBoard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  } // render cardsview when user choose certain board\n  // need to add logic to set chosenBoard state back to null when user clicked 'x' button in cardsview\n  else {\n    return /*#__PURE__*/_jsxDEV(CardsView, {\n      cards: cards,\n      updateLikes: updateLikeCts,\n      deleteCard: deleteCard,\n      submitCard: onFormSubmitCard,\n      chosenBoard: chosenBoard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(App, \"+3ke6Ch2Wz7bC8f+nX3cRsZrmKM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","BoardsView","CardsView","App","defaultBoards","defaultCards","url","boards","setBoards","cards","setCards","chosenBoard","setChosenBoard","get","then","response","updatedBoards","dataList","data","push","catch","e","console","log","getCardsFromOneBoard","boardId","updatedCards","deleteBoard","delete","filter","board","board_id","deleteCard","cardId","card","card_id","onFormSubmitBoard","requestBody","post","newBoard","id","title","owner","onFormSubmitCard","newCard","message","like_count","updateLikeCts","cardObj","put","map"],"sources":["/Users/mit/projects/ins-board/front-end-inspiration-board/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport BoardsView from \"./components/BoardsView\";\nimport CardsView from \"./components/CardsView\";\n\nfunction App() {\n  const defaultBoards = [];\n  const defaultCards = [];\n\n  const url = \"https://powerful-lake-89201.herokuapp.com\";\n  // useState for Board\n  const [boards, setBoards] = useState(defaultBoards);\n  // useState for Card\n  const [cards, setCards] = useState(defaultCards);\n  // useState to keep track of what board we're currently looking at (user's choice)\n  const [chosenBoard, setChosenBoard] = useState(null);\n\n  // useEffect upon dom load\n  useEffect(() => {\n    // axios call, after promise is completed or rejected:\n    axios\n      .get(`${url}/boards`)\n      .then((response) => {\n        // iterate through each board and append to boards\n        const updatedBoards = [...boards];\n        const dataList = response.data;\n        for (const data of dataList) {\n          updatedBoards.push(data);\n        }\n        setBoards(updatedBoards);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }, []);\n\n  // BoardView -> BoardList, NewBoardButton, NewBoardForm (visible/invisible depending on NewBoardButton toggle): siblings easier ^^ -> all state at BoardView level to control NewBoardForm visibility\n\n  //get all cards from user chosen board -> pass down to boardlist\n  const getCardsFromOneBoard = (boardId) => {\n    axios\n      .get(`${url}/boards/${boardId}/cards`)\n      .then((response) => {\n        const updatedCards = [];\n        const dataList = response.data;\n        for (const data of dataList) {\n          updatedCards.push(data);\n        }\n        setCards(updatedCards);\n        setChosenBoard(boardId);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // delete board (need to add endpoints)\n  const deleteBoard = (boardId) => {\n    axios\n      .delete(`${url}/boards/${boardId}`)\n      .then(() => {\n        const updatedBoards = boards.filter(\n          (board) => board.board_id !== boardId\n        );\n        setBoards(updatedBoards);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // delete card\n  const deleteCard = (cardId) => {\n    axios\n      .delete(`${url}/cards/${cardId}`)\n      .then(() => {\n        const updatedCards = cards.filter((card) => card.card_id !== cardId);\n        setCards(updatedCards);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // onformsubmitboard\n  const onFormSubmitBoard = (requestBody) => {\n    axios\n      .post(`${url}/boards`, requestBody)\n      .then((response) => {\n        const newBoard = {\n          id: response.data.id,\n          title: requestBody.title,\n          owner: requestBody.owner,\n        };\n        setBoards([...boards, newBoard]);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // on formsubmitcard\n  const onFormSubmitCard = (boardId, requestBody) => {\n    axios\n      .post(`${url}/boards/${boardId}/card`, requestBody)\n      .then((response) => {\n        const newCard = {\n          card_id: response.data.card_id,\n          board_id: response.data.board_id,\n          message: response.data.message,\n          like_count: response.data.like_count,\n        };\n        setCards([...cards, newCard]);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  const updateLikeCts = (cardId) => {\n    const cardObj = cards.filter((card) => card.card_id === cardId);\n    axios\n      .put(`https://powerful-lake-89201.herokuapp.com/cards/${cardId}`, {\n        like_count: cardObj.like_count + 1,\n      })\n      .then(() => {\n        const updatedCards = cards.map((card) => {\n          if (card.card_id === cardId) {\n            card.like_count++;\n          }\n          return card;\n        });\n        setCards(updatedCards);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // default landing page\n  if (chosenBoard === null) {\n    return (\n      <BoardsView\n        boardData={boards}\n        selectBoardCallback={getCardsFromOneBoard}\n        deleteBoardCallback={deleteBoard}\n        makeBoardCallback={onFormSubmitBoard}\n      ></BoardsView>\n    );\n  }\n  // render cardsview when user choose certain board\n  // need to add logic to set chosenBoard state back to null when user clicked 'x' button in cardsview\n  else {\n    return (\n      <CardsView\n        cards={cards}\n        updateLikes={updateLikeCts}\n        deleteCard={deleteCard}\n        submitCard={onFormSubmitCard}\n        chosenBoard={chosenBoard}\n      ></CardsView>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}