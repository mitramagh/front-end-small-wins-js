{"ast":null,"code":"var _jsxFileName = \"/Users/mit/projects/ins-board/front-end-inspiration-board/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport BoardsView from \"./components/BoardsView\";\nimport CardsView from \"./components/CardsView\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const defaultBoards = [];\n  const defaultCards = [];\n  const url = \"https://powerful-lake-89201.herokuapp.com\"; // useState for Board\n\n  const [boards, setBoards] = useState(defaultBoards); // useState for Card\n\n  const [cards, setCards] = useState(defaultCards); // useState to keep track of what board we're currently looking at (user's choice)\n\n  const [chosenBoard, setChosenBoard] = useState(null); // useEffect upon dom load\n\n  useEffect(() => {\n    // axios call, after promise is completed or rejected:\n    axios.get(`${url}/boards`).then(response => {\n      // iterate through each board and append to boards\n      const updatedBoards = [...boards];\n      const dataList = response.data;\n\n      for (const data of dataList) {\n        updatedBoards.push(data);\n      }\n\n      setBoards(updatedBoards);\n    }).catch(e => {\n      console.log(e);\n    });\n  }, []); // BoardView -> BoardList, NewBoardButton, NewBoardForm (visible/invisible depending on NewBoardButton toggle): siblings easier ^^ -> all state at BoardView level to control NewBoardForm visibility\n  //get all cards from user chosen board -> pass down to boardlist\n\n  const getCardsFromOneBoard = boardId => {\n    axios.get(`${url}/boards/${boardId}/cards`).then(response => {\n      // iterate through each card and append to cards\n      const updatedCards = response.data.map(card => {\n        return [...cards, card];\n      });\n      setCards(updatedCards);\n      setChosenBoard(boardId);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // delete board (need to add endpoints)\n\n\n  const deleteBoard = boardId => {\n    axios.delete(`${url}/boards/${boardId}`).then(() => {\n      const updatedBoards = boards.filter(board => board.board_id !== boardId);\n      setBoards(updatedBoards);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // delete card\n\n\n  const deleteCard = cardId => {\n    axios.delete(`${url}/cards/${cardId}`).then(() => {\n      const updatedCards = cards.filter(card => card.card_id !== cardId);\n      setCards(updatedCards);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // onformsubmitboard\n\n\n  const onFormSubmitBoard = requestBody => {\n    axios.post(`${url}/boards`, requestBody).then(response => {\n      const newBoard = {\n        board_id: response.id,\n        title: requestBody.title,\n        owner: requestBody.owner\n      };\n      setBoards([...boards, newBoard]);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // on formsubmitcard\n\n\n  const onFormSubmitCard = requestBody => {\n    axios.post(`${url}/boards/${boardId}/card`, requestBody).then(response => {\n      const newCard = {\n        card_id: response.card_id,\n        message: requestBody.message,\n        like_count: requestBody.like_count\n      };\n      setCards([...cards, newCard]);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const updateLikeCts = cardId => {\n    const cardObj = cards.filter(card => card.card_id == cardId);\n    axios.put(`https://powerful-lake-89201.herokuapp.com/cards/${cardId}`, {\n      like_count: cardObj.like_count + 1\n    }).then(() => {\n      const updatedCards = cards.map(card => {\n        if (card.card_id === cardId) {\n          card.like_count++;\n        }\n\n        return card;\n      });\n      setCards(updatedCards);\n    }).catch(e => {\n      console.log(e);\n    });\n  }; // default landing page\n\n\n  if (chosenBoard === null) {\n    return /*#__PURE__*/_jsxDEV(BoardsView, {\n      boardData: boards,\n      selectoBoardCallback: getCardsFromOneBoard,\n      deleteBoardCallback: deleteBoard,\n      makeBoardCallback: onFormSubmitBoard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  } // render cardsview when user choose certain board\n  // need to add logic to set chosenBoard state back to null when user clicked 'x' button in cardsview\n  else {\n    return /*#__PURE__*/_jsxDEV(CardsView, {\n      cards: cards,\n      updateLikes: updateLikeCts,\n      deleteCard: deleteCard,\n      submitCard: onFormSubmitCard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(App, \"+3ke6Ch2Wz7bC8f+nX3cRsZrmKM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","BoardsView","CardsView","App","defaultBoards","defaultCards","url","boards","setBoards","cards","setCards","chosenBoard","setChosenBoard","get","then","response","updatedBoards","dataList","data","push","catch","e","console","log","getCardsFromOneBoard","boardId","updatedCards","map","card","deleteBoard","delete","filter","board","board_id","deleteCard","cardId","card_id","onFormSubmitBoard","requestBody","post","newBoard","id","title","owner","onFormSubmitCard","newCard","message","like_count","updateLikeCts","cardObj","put"],"sources":["/Users/mit/projects/ins-board/front-end-inspiration-board/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport BoardsView from \"./components/BoardsView\";\nimport CardsView from \"./components/CardsView\";\n\nfunction App() {\n  const defaultBoards = [];\n  const defaultCards = [];\n\n  const url = \"https://powerful-lake-89201.herokuapp.com\";\n  // useState for Board\n  const [boards, setBoards] = useState(defaultBoards);\n  // useState for Card\n  const [cards, setCards] = useState(defaultCards);\n  // useState to keep track of what board we're currently looking at (user's choice)\n  const [chosenBoard, setChosenBoard] = useState(null);\n\n  // useEffect upon dom load\n  useEffect(() => {\n    // axios call, after promise is completed or rejected:\n    axios\n      .get(`${url}/boards`)\n      .then((response) => {\n        // iterate through each board and append to boards\n        const updatedBoards = [...boards];\n        const dataList = response.data;\n        for (const data of dataList) {\n          updatedBoards.push(data);\n        }\n        setBoards(updatedBoards);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }, []);\n\n  // BoardView -> BoardList, NewBoardButton, NewBoardForm (visible/invisible depending on NewBoardButton toggle): siblings easier ^^ -> all state at BoardView level to control NewBoardForm visibility\n\n  //get all cards from user chosen board -> pass down to boardlist\n  const getCardsFromOneBoard = (boardId) => {\n    axios\n      .get(`${url}/boards/${boardId}/cards`)\n      .then((response) => {\n        // iterate through each card and append to cards\n        const updatedCards = response.data.map((card) => {\n          return [...cards, card];\n        });\n        setCards(updatedCards);\n        setChosenBoard(boardId);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // delete board (need to add endpoints)\n  const deleteBoard = (boardId) => {\n    axios\n      .delete(`${url}/boards/${boardId}`)\n      .then(() => {\n        const updatedBoards = boards.filter(\n          (board) => board.board_id !== boardId\n        );\n        setBoards(updatedBoards);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // delete card\n  const deleteCard = (cardId) => {\n    axios\n      .delete(`${url}/cards/${cardId}`)\n      .then(() => {\n        const updatedCards = cards.filter((card) => card.card_id !== cardId);\n        setCards(updatedCards);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // onformsubmitboard\n  const onFormSubmitBoard = (requestBody) => {\n    axios\n      .post(`${url}/boards`, requestBody)\n      .then((response) => {\n        const newBoard = {\n          board_id: response.id,\n          title: requestBody.title,\n          owner: requestBody.owner,\n        };\n        setBoards([...boards, newBoard]);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // on formsubmitcard\n  const onFormSubmitCard = (requestBody) => {\n    axios\n      .post(`${url}/boards/${boardId}/card`, requestBody)\n      .then((response) => {\n        const newCard = {\n          card_id: response.card_id,\n          message: requestBody.message,\n          like_count: requestBody.like_count,\n        };\n        setCards([...cards, newCard]);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  const updateLikeCts = (cardId) => {\n    const cardObj = cards.filter((card) => card.card_id == cardId);\n    axios\n      .put(`https://powerful-lake-89201.herokuapp.com/cards/${cardId}`, {\n        like_count: cardObj.like_count + 1,\n      })\n      .then(() => {\n        const updatedCards = cards.map((card) => {\n          if (card.card_id === cardId) {\n            card.like_count++;\n          }\n          return card;\n        });\n        setCards(updatedCards);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  // default landing page\n  if (chosenBoard === null) {\n    return (\n      <BoardsView\n        boardData={boards}\n        selectoBoardCallback={getCardsFromOneBoard}\n        deleteBoardCallback={deleteBoard}\n        makeBoardCallback={onFormSubmitBoard}\n      ></BoardsView>\n    );\n  }\n  // render cardsview when user choose certain board\n  // need to add logic to set chosenBoard state back to null when user clicked 'x' button in cardsview\n  else {\n    return (\n      <CardsView\n        cards={cards}\n        updateLikes={updateLikeCts}\n        deleteCard={deleteCard}\n        submitCard={onFormSubmitCard}\n      ></CardsView>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}